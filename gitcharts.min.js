function getGithubApiData(a,b,c,d,e){var f=[];$.getJSON(a,function(a){$.each(a,function(a,b){for(var c in b)"type"==c&&"PushEvent"==b[c]&&f.push(b)})}).done(function(){var a=getEventData(f,e);a&&("donut"==c?createDonutChart(b,a,d):"line"==c?createLineChart(b,a,d):"bar"==c&&createBarChart(b,a,d))})}function getEventData(a,b){var c=[];for(var d in a){var e="",f="",g="";for(var j in a[d])"repo"==j&&(e=getRepoDetails(a[d][j])),"payload"==j&&(f=getNumCommits(a[d][j])),"created_at"==j&&(g=a[d][j],g=g.split("T")[0]);if(""!=e&&""!=f){var e=parseRepoName(e),k=checkIfAlreadyExistsInArray(c,e,f,g);if(!k)if("date"==b)createDateDataObject(c,g,f);else{if("repos"!=b)return;createReposDataObject(c,e,f)}}}return c}function createDateDataObject(a,b,c){a.push({label:b,value:c})}function createReposDataObject(a,b,c){a.push({label:b,value:c})}function checkIfAlreadyExistsInArray(a,b,c,d){var e=!1;return a.some(function(a){if(a.label==b){e=!0;var f=a.value,g=f+c;a.value=g}else if(a.label==d){e=!0;var f=a.value,g=f+c;a.value=g}}),e}function getUserInfo(a){var b=[];for(var c in a)if("commits"==c)for(var d=0;d<a[c].length;d++)for(var e in a[c][d])"author"==e&&b.push(a[c][d][e].name);return b}function parseRepoName(a){var b=a.indexOf("/"),c=a.slice(b+1);return c}function getRepoDetails(a){for(var b in a)if("name"==b)return a[b]}function getNumCommits(a){for(var b in a)if("size"==b)return a[b]}function createDonutChart(a,b,c){Morris.Donut({element:a,data:b,colors:c.colors,resize:c.resize})}function createLineChart(a,b,c){Morris.Line({element:a,data:b,xkey:"label",ykeys:["value"],labels:["Commits"],xLabels:["day"],lineColors:c.colors,lineWidth:c.lineWidth,pointSize:c.pointSize,pointFillColors:c.pointFillColors,smooth:c.smooth,hideHover:c.hideOnHover,grid:c.grid,xLabelFormat:function(a){return a.getMonth()+1+"/"+a.getDate()}})}function createBarChart(a,b,c){Morris.Bar({element:a,data:b,xkey:"label",ykeys:["value"],labels:["Commits"],xLabels:["day"],barColors:c.barColors,grid:c.grid,hideHover:c.hideHover,resize:c.resize})}function buildApiUrl(a,b,c){var d="https://api.github.com/";if("individual"==a){if(!b)return;var e=buildUserUrl(b,d)}else{if("organization"!=a)return;if(!c)return;var e=buildOrgUrl(c,d)}return e}function buildUserUrl(a,b){var c="users",d=b+c+"/"+a+"/events";return d}function buildOrgUrl(a,b){console.log("");var c="orgs",d=b+c+"/"+a+"/events";return d}function createChartOptions(a,b,c,d,e,f,g,h,i){if(h||(h=b),"donut"==a)var j={colors:b,resize:e};else if("line"==a)var j={colors:b,lineWidth:f,pointSize:g,pointFillColors:h,smooth:i,hideHover:d,grid:c};else{if("bar"!=a)return;var j={barColors:b,hideHover:d,grid:c,resize:e}}return j}!function(a){a.fn.gitcharts=function(b){var c=a.extend({userType:"individual",xAxisDataType:"repos",username:null,organization:null,chart:"donut",colors:["#333"],grid:!0,hideOnHover:!0,lineWidth:2,pointSize:4,pointFillColors:"",smooth:!0,resize:!1},b);return $this=a(this),this.each(function(){var a=buildApiUrl(c.userType,c.username,c.organization);if(a){var b=createChartOptions(c.chart,c.colors,c.grid,c.hideOnHover,c.resize,c.lineWidth,c.pointSize,c.pointFillColors,c.smooth);getGithubApiData(a,this,c.chart,b,c.xAxisDataType)}})}}(jQuery);